(this["webpackJsonpstores-app"]=this["webpackJsonpstores-app"]||[]).push([[0],{41:function(e,t,s){},68:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s(30),r=s.n(c),i=(s(41),s(11)),l=s(2),o=function(){return Object(n.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-light",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(i.b,{to:"/",className:"navbar-brand",children:"APP STORES"}),Object(n.jsx)("div",{className:"navbar-nav ml-md-auto",children:Object(n.jsxs)("div",{className:"navbar-nav",children:[Object(n.jsx)(i.c,{exact:!0,activeClassName:"active",to:"/",className:"nav-link",children:"Dashboard "}),Object(n.jsx)(i.c,{exact:!0,activeClassName:"active",to:"/stores",className:"nav-link",children:"Stores"}),Object(n.jsx)(i.c,{exact:!0,activeClassName:"active",to:"/userscl",className:"nav-link",children:"Users cl"}),Object(n.jsx)(i.c,{exact:!0,activeClassName:"active",to:"/usersfn",className:"nav-link",children:"Users fn"})]})})]})})},u=function(){return Object(n.jsxs)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:[Object(n.jsx)("h1",{className:"display-5",children:" Bienvenus \xe0 la App Store"}),Object(n.jsx)("h2",{children:" Dashboard"})]})},j=s(8),b=s(10),d=function(e){var t=e.setStores,s=Object(a.useState)(""),c=Object(j.a)(s,2),r=c[0],i=c[1];return Object(n.jsxs)("div",{className:"my-5",children:[Object(n.jsx)("h4",{children:"Cr\xe9er un magasin"}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("input",{type:"text",onChange:function(e){i(e.target.value)},value:r,className:"form-control",placeholder:"Entrez un nom"}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),r.trim().length>2&&(t((function(e){return[].concat(Object(b.a)(e),[r])})),i(""))},className:"btn btn-outline-secondary",type:"button",children:"Ajouter"})})]})]})},m=function(){var e=Object(a.useState)(["Store Paris 8","Store Paris 16","Store Paris 20"]),t=Object(j.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1];return Object(n.jsxs)("div",{className:"px-3 py-3 pt-md-5 pb-md-4 mx-auto ",children:[Object(n.jsx)("h3",{className:"text-center",children:"Nos magasins"}),Object(n.jsx)("ul",{className:"list-group list-group-flush mb-3",children:s.map((function(e){return Object(n.jsx)("li",{className:"list-group-item",children:e},e)}))}),Object(n.jsx)("button",{onClick:function(){o(!l);var e=document.getElementById("btn");e.innerText="Cr\xe9er un magasin"===e.innerText?"Annuler":"Cr\xe9er un magasin"},className:"btn btn-primary",id:"btn",children:"Cr\xe9er un magasin"}),l&&Object(n.jsx)(d,{setStores:c})]})},h=s(32),x=s(33),O=s(35),p=s(34),f=s(9),v=s.n(f),N=s(16),g=s(21),y=function(){var e=Object(a.useState)({firstName:"",lastName:""}),t=Object(j.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1],u=function(e){c(Object(g.a)(Object(g.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{className:"my-5",children:[Object(n.jsx)("h4",{children:"Ajouter un utilisateur"}),Object(n.jsxs)("div",{className:"input-group my-3",children:[Object(n.jsx)("input",{type:"text",onChange:u,value:s.firstName,name:"firstName",className:"form-control",placeholder:"Votre pr\xe9nom (3 characters min.)"}),Object(n.jsx)("input",{type:"text",onChange:u,value:s.lastName,name:"lastName",className:"form-control",placeholder:"Votre nom (3 characters min.)"}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),s.firstName.trim().length>2&&s.lastName.trim().length>2&&(v.a.post("http://localhost:3000/users",s).then((function(e){200===e.status&&o(!l)})),s.firstName="",s.lastName="")},className:"btn btn-outline-secondary",type:"button",children:"Ajouter"})})]}),l&&Object(n.jsx)("div",{className:"alert alert-success my-3",children:"l'utilisateur a bien \xe9t\xe9 ajout\xe9."})]})},C=function(e){Object(O.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(h.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={users:[]},e.store=function(){v.a.post("http://localhost:3000/users",{firstName:"Frida",lastName:"Holler",email:"ti@po.com"}).then((function(e){console.log(e.data.message)}))},e.deleteUser=function(t){v.a.delete("http://localhost:3000/users/"+t).then((function(s){var n=Object(b.a)(e.state.users),a=n.findIndex((function(e){return e.id===t}));n.splice(a,1),e.setState({users:Object(b.a)(n)})})).catch((function(e){console.log("C est grave ",e)}))},e}return Object(x.a)(s,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:3000/users").then((function(t){e.setState({users:t.data})})),this.store()}},{key:"render",value:function(){var e=this,t=this.state.users.map((function(t){return Object(n.jsxs)("div",{className:"list-group-item d-flex justify-content-between",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"font-weight-bold",children:t.lastName})," ",t.firstName," - ",t.city]}),Object(n.jsx)("button",{onClick:function(){return e.deleteUser(t.id)},className:"btn btn-danger btn-sm ml-4",children:Object(n.jsx)("i",{className:"fas fa-user-minus",children:" "})})]},t.id)}));return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("h3",{className:"my-4 text-center",children:["Utilisateurs : ",Object(n.jsx)("small",{children:"Class"})]}),Object(n.jsx)("div",{className:"row justify-content-md-center",children:Object(n.jsx)("div",{className:"list-group ",children:t})}),Object(n.jsx)(y,{})]})}}]),s}(a.Component),S=function(){var e=Object(a.useState)({users:[],loading:!0}),t=Object(j.a)(e,2),s=t[0],c=t[1];Object(a.useEffect)((function(){v.a.get("http://localhost:3000/users").then((function(e){console.log("resp:",e.data),c({users:e.data,loading:!1})}))}),[]);var r=Object(a.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1];return Object(n.jsxs)("div",{className:"container ",children:[Object(n.jsxs)("h3",{className:"my-4 text-center",children:["Utilisateurs : ",Object(n.jsx)("small",{children:"fonction"})]}),Object(n.jsx)("div",{className:"row justify-content-md-center",children:Object(n.jsx)("div",{className:"list-group",children:s.users.map((function(e){return Object(n.jsxs)("div",{className:"list-group-item d-flex justify-content-between",children:[Object(n.jsxs)("div",{children:[e.firstName," ",e.lastName," - ",e.city]}),Object(n.jsx)("button",{onClick:function(){return t=e.id,void v.a.delete("http://localhost:3000/users/"+t).then((function(e){var n=Object(b.a)(s.users),a=n.findIndex((function(e){return e.id===t}));n.splice(a,1),c({users:Object(b.a)(n)})})).catch((function(e){console.log(e)}));var t},className:"btn btn-danger btn-sm ml-3",children:Object(n.jsx)("i",{className:"far fa-trash-alt",children:" "})})]},e.id)}))})}),Object(n.jsx)("button",{onClick:function(){o(!l);var e=document.getElementById("btn");e.innerText="Ajouter un utilisateur"===e.innerText?"Annuler":"Ajouter un utilisateur"},className:"btn btn-primary btn-sm",id:"btn",children:"Ajouter un utilisateur"}),l&&Object(n.jsx)(y,{})]})},k=function(){return Object(n.jsx)(i.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(o,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:u}),Object(n.jsx)(l.b,{exact:!0,path:"/stores",component:m}),Object(n.jsx)(l.b,{exact:!0,path:"/userscl",component:C}),Object(n.jsx)(l.b,{exact:!0,path:"/usersfn",component:S}),Object(n.jsx)(l.a,{to:"/"})]})]})})},A=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(k,{})})};s(67);r.a.render(Object(n.jsx)(A,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.81a743ec.chunk.js.map